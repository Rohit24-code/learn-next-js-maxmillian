{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/meals/page.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"cta\": \"page-module__vM3LKW__cta\",\n  \"header\": \"page-module__vM3LKW__header\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/meals/meals-grid.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"meals\": \"meals-grid-module__omPeKq__meals\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/meals/meals-item.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"meals-item-module__v3KMcG__actions\",\n  \"content\": \"meals-item-module__v3KMcG__content\",\n  \"headerText\": \"meals-item-module__v3KMcG__headerText\",\n  \"image\": \"meals-item-module__v3KMcG__image\",\n  \"meal\": \"meals-item-module__v3KMcG__meal\",\n  \"summary\": \"meals-item-module__v3KMcG__summary\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/stco/personal/nextjs-maxmiller/meals-app/components/meals/meal-item.js"],"sourcesContent":["import Link from 'next/link';\nimport Image from 'next/image';\n\nimport classes from './meals-item.module.css';\n\nexport default function MealItem({ title, slug, image, summary, creator }) {\n  return (\n    <article className={classes.meal}>\n      <header>\n        <div className={classes.image}>\n          <Image src={image} alt={title} fill />\n        </div>\n        <div className={classes.headerText}>\n          <h2>{title}</h2>\n          <p>by {creator}</p>\n        </div>\n      </header>\n      <div className={classes.content}>\n        <p className={classes.summary}>{summary}</p>\n        <div className={classes.actions}>\n          <Link href={`/meals/${slug}`}>View Details</Link>\n        </div>\n      </div>\n    </article>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEe,SAAS,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE;IACvE,qBACE,8OAAC;QAAQ,WAAW,2JAAO,CAAC,IAAI;;0BAC9B,8OAAC;;kCACC,8OAAC;wBAAI,WAAW,2JAAO,CAAC,KAAK;kCAC3B,cAAA,8OAAC,wIAAK;4BAAC,KAAK;4BAAO,KAAK;4BAAO,IAAI;;;;;;;;;;;kCAErC,8OAAC;wBAAI,WAAW,2JAAO,CAAC,UAAU;;0CAChC,8OAAC;0CAAI;;;;;;0CACL,8OAAC;;oCAAE;oCAAI;;;;;;;;;;;;;;;;;;;0BAGX,8OAAC;gBAAI,WAAW,2JAAO,CAAC,OAAO;;kCAC7B,8OAAC;wBAAE,WAAW,2JAAO,CAAC,OAAO;kCAAG;;;;;;kCAChC,8OAAC;wBAAI,WAAW,2JAAO,CAAC,OAAO;kCAC7B,cAAA,8OAAC,0LAAI;4BAAC,MAAM,CAAC,OAAO,EAAE,MAAM;sCAAE;;;;;;;;;;;;;;;;;;;;;;;AAKxC"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///Users/stco/personal/nextjs-maxmiller/meals-app/components/meals/meals-grid.js"],"sourcesContent":["import React from 'react'\nimport classes from './meals-grid.module.css'\nimport MealItem from './meal-item'\nconst MealsGrid = ({meals}) => {\n  return (\n    <ul className={classes.meals}>\n      {meals.map(meal => (\n        <li className={classes.item} key={meal.id}>\n          <MealItem\n            {...meal}\n          />\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nexport default MealsGrid  "],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AACA,MAAM,YAAY,CAAC,EAAC,KAAK,EAAC;IACxB,qBACE,8OAAC;QAAG,WAAW,2JAAO,CAAC,KAAK;kBACzB,MAAM,GAAG,CAAC,CAAA,qBACT,8OAAC;gBAAG,WAAW,2JAAO,CAAC,IAAI;0BACzB,cAAA,8OAAC,8IAAQ;oBACN,GAAG,IAAI;;;;;;eAFsB,KAAK,EAAE;;;;;;;;;;AAQjD;uCAEe"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///Users/stco/personal/nextjs-maxmiller/meals-app/lib/meals.js"],"sourcesContent":["import sql from 'better-sqlite3';\nimport slugify from 'slugify';\nimport xss from 'xss';\nimport fs from 'fs';\n\nconst db = sql('meals.db');\n\n\n\nexport async function getMeals() {\n    await new Promise(resolve => setTimeout(resolve, 5000));\n    // throw new Error('Something went wrong');\n    return db.prepare('SELECT * FROM meals').all();\n}\n\nexport function getMealById(id) {\n    return db.prepare('SELECT * FROM meals WHERE slug = ?').get(id);\n}\n\nexport async function saveMeal(meal) {\n    meal.slug = slugify(meal.title, { lower: true });\n    meal.instructions = xss(meal.instructions);\n\n\n    const extension = meal.image.name.split('.').pop();\n    const filename = meal.slug + \".\" + extension;\n    const path = \"public/images/\" + filename;\n    const file = fs.createWriteStream(path);\n    const bufferedImage = await meal.image.arrayBuffer();\n    file.write(Buffer.from(bufferedImage));\n    file.end();\n    meal.image = \"/images/\" + filename;\n\n\n    const insert = db.prepare('INSERT INTO meals (slug, title, summary, instructions, creator, creator_email, image) VALUES (?, ?, ?, ?, ?, ?, ?)');\n    insert.run(meal.slug,\n        meal.title,\n        meal.summary,\n        meal.instructions,\n        meal.creator,\n        meal.creatorEmail,\n        meal.image);\n}"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,KAAK,IAAA,sIAAG,EAAC;AAIR,eAAe;IAClB,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;IACjD,2CAA2C;IAC3C,OAAO,GAAG,OAAO,CAAC,uBAAuB,GAAG;AAChD;AAEO,SAAS,YAAY,EAAE;IAC1B,OAAO,GAAG,OAAO,CAAC,sCAAsC,GAAG,CAAC;AAChE;AAEO,eAAe,SAAS,IAAI;IAC/B,KAAK,IAAI,GAAG,IAAA,6IAAO,EAAC,KAAK,KAAK,EAAE;QAAE,OAAO;IAAK;IAC9C,KAAK,YAAY,GAAG,IAAA,8IAAG,EAAC,KAAK,YAAY;IAGzC,MAAM,YAAY,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG;IAChD,MAAM,WAAW,KAAK,IAAI,GAAG,MAAM;IACnC,MAAM,OAAO,mBAAmB;IAChC,MAAM,OAAO,wGAAE,CAAC,iBAAiB,CAAC;IAClC,MAAM,gBAAgB,MAAM,KAAK,KAAK,CAAC,WAAW;IAClD,KAAK,KAAK,CAAC,OAAO,IAAI,CAAC;IACvB,KAAK,GAAG;IACR,KAAK,KAAK,GAAG,aAAa;IAG1B,MAAM,SAAS,GAAG,OAAO,CAAC;IAC1B,OAAO,GAAG,CAAC,KAAK,IAAI,EAChB,KAAK,KAAK,EACV,KAAK,OAAO,EACZ,KAAK,YAAY,EACjB,KAAK,OAAO,EACZ,KAAK,YAAY,EACjB,KAAK,KAAK;AAClB"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/meals/loading.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"loading\": \"loading-module__TnFi1W__loading\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///Users/stco/personal/nextjs-maxmiller/meals-app/app/meals/loading-out.js"],"sourcesContent":["import React from 'react'\nimport classes from \"./loading.module.css\"\n\nconst MealsLoading = () => {\n  return (\n    <p className={classes.loading}>Fetching meals ...</p>\n  )\n}\n\nexport default MealsLoading"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,eAAe;IACnB,qBACE,8OAAC;QAAE,WAAW,8IAAO,CAAC,OAAO;kBAAE;;;;;;AAEnC;uCAEe"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///Users/stco/personal/nextjs-maxmiller/meals-app/app/meals/page.js"],"sourcesContent":["import Link from 'next/link'\nimport React from 'react'\nimport classes from './page.module.css'\nimport MealsGrid from '@/components/meals/meals-grid'\nimport { getMeals } from '@/lib/meals'\nimport { Suspense } from 'react'\nimport MealsLoading from './loading-out'\n\nexport const metadata = {\n  title: 'All meals',\n  description: 'Browswe the delecious meals shared by the community',\n};\n\n\n\nasync function Meals() {\n  // after running this in production it next js will cache this pafge\n  // but the downside is whenever we come we will again and again see the same data\n  // to avoid this we can use the revalidate option , we will go to the saveMeal function and add the revalidate option there\n  // then next js will revalidate the data once it is called\n  const meals = await getMeals();\n  return <MealsGrid meals={meals} />\n}\n\nconst MealsPage = async () => {\n\n  return (\n    <>\n      <header className={classes.header}>\n        <h1>Delicious meals, created {' '} <span className={classes.highlight}> by you</span></h1>\n        <p>Share your favorite recipes with the world</p>\n        <p className={classes.cta}><Link href={'/meals/share'}>Join our community and share your favorite recipes!</Link></p>\n      </header>\n\n\n\n      {/* over here this is important because we called the data and the data that is returned in a other component so that we don't load the complete page ,only that part with will be loaded that is inside suspense */}\n      {/* the default loading.js we use this also does the same behind the scenes */}\n      <main className={classes.main}>\n        <Suspense fallback={<MealsLoading />}>\n          <Meals />\n        </Suspense>\n      </main>\n    </>\n  )\n}\n\nexport default MealsPage"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AAEO,MAAM,WAAW;IACtB,OAAO;IACP,aAAa;AACf;AAIA,eAAe;IACb,oEAAoE;IACpE,iFAAiF;IACjF,2HAA2H;IAC3H,0DAA0D;IAC1D,MAAM,QAAQ,MAAM,IAAA,wHAAQ;IAC5B,qBAAO,8OAAC,+IAAS;QAAC,OAAO;;;;;;AAC3B;AAEA,MAAM,YAAY;IAEhB,qBACE;;0BACE,8OAAC;gBAAO,WAAW,2IAAO,CAAC,MAAM;;kCAC/B,8OAAC;;4BAAG;4BAA0B;4BAAI;0CAAC,8OAAC;gCAAK,WAAW,2IAAO,CAAC,SAAS;0CAAE;;;;;;;;;;;;kCACvE,8OAAC;kCAAE;;;;;;kCACH,8OAAC;wBAAE,WAAW,2IAAO,CAAC,GAAG;kCAAE,cAAA,8OAAC,0LAAI;4BAAC,MAAM;sCAAgB;;;;;;;;;;;;;;;;;0BAOzD,8OAAC;gBAAK,WAAW,2IAAO,CAAC,IAAI;0BAC3B,cAAA,8OAAC,iNAAQ;oBAAC,wBAAU,8OAAC,yIAAY;;;;;8BAC/B,cAAA,8OAAC;;;;;;;;;;;;;;;;;AAKX;uCAEe"}}]
}