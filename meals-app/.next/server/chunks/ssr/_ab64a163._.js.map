{"version":3,"sources":["../../../../node_modules/next/src/shared/lib/image-external.tsx","../../../../node_modules/next/image.js","turbopack:///[project]/components/meals/image-picker.module.css [app-ssr] (css module)","turbopack:///[project]/app/meals/share/page.module.css [app-ssr] (css module)","../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../components/meals/image-picker.js","../../../../app/meals/share/page.js","../../../../lib/data%3A76587f%20%3Ctext/javascript%3E","../../../../components/meals/meals-form-submit.js"],"sourcesContent":["import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n","module.exports = require('./dist/shared/lib/image-external')\n","__turbopack_context__.v({\n  \"button\": \"image-picker-module__dfHyha__button\",\n  \"controls\": \"image-picker-module__dfHyha__controls\",\n  \"input\": \"image-picker-module__dfHyha__input\",\n  \"picker\": \"image-picker-module__dfHyha__picker\",\n  \"preview\": \"image-picker-module__dfHyha__preview\",\n});\n","__turbopack_context__.v({\n  \"actions\": \"page-module__MQVuSq__actions\",\n  \"form\": \"page-module__MQVuSq__form\",\n  \"header\": \"page-module__MQVuSq__header\",\n  \"highlight\": \"page-module__MQVuSq__highlight\",\n  \"main\": \"page-module__MQVuSq__main\",\n  \"row\": \"page-module__MQVuSq__row\",\n});\n","// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","'use client'\nimport React, { useRef, useState } from 'react'\nimport classes from './image-picker.module.css'\nimport Image from 'next/image';\n\nconst ImagePicker = ({ label, name }) => {\n    const inputRef = useRef();\n    const [image, setImage] = useState()\n    function handleChooseImage() {\n        inputRef.current.click()\n    }\n    function handleImageChange(event) {\n        const file = event.target.files[0];\n        if (!file) return;\n        if (file) {\n            const reader = new FileReader();\n            reader.onload = () => {\n                setImage(reader.result);\n            };\n            reader.readAsDataURL(file);\n        }\n    }\n    return (\n        <div className={classes.picker}>\n            <label htmlFor={name}>{label}</label>\n            <div className={classes.controls}>\n                {image && <div className={classes.preview}>\n                    <Image fill src={image} alt=\"Preview\" />\n                </div>}\n                <input required className={classes.input} ref={inputRef} type=\"file\" accept=\"image/png , image/jpeg\" name={name} id={name} onChange={handleImageChange} />\n                <button className={classes.button} onClick={handleChooseImage} type='button'>Choose Image</button>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePicker","'use client'\nimport ImagePicker from '@/components/meals/image-picker';\nimport classes from './page.module.css';\nimport { shareMeal } from '@/lib/actions';\nimport MealsFormSubmit from '@/components/meals/meals-form-submit';\nimport { useActionState } from 'react';\n\nexport default function ShareMealPage() {\n\n  const [state, formAction] = useActionState(shareMeal, { message: null })\n\n  return (\n    <>\n      <header className={classes.header}>\n        <h1>\n          Share your <span className={classes.highlight}>favorite meal</span>\n        </h1>\n        <p>Or any other meal you feel needs sharing!</p>\n      </header>\n      <main className={classes.main}>\n        {/* `action` defines a Server Action â€” a server-side form handler, similar to onSubmit but running on the backend. */}\n        <form className={classes.form} action={formAction} >\n          <div className={classes.row}>\n            <p>\n              <label htmlFor=\"name\">Your name</label>\n              <input type=\"text\" id=\"name\" name=\"name\" required />\n            </p>\n            <p>\n              <label htmlFor=\"email\">Your email</label>\n              <input type=\"email\" id=\"email\" name=\"email\" required />\n            </p>\n          </div>\n          <p>\n            <label htmlFor=\"title\">Title</label>\n            <input type=\"text\" id=\"title\" name=\"title\" required />\n          </p>\n          <p>\n            <label htmlFor=\"summary\">Short Summary</label>\n            <input type=\"text\" id=\"summary\" name=\"summary\" required />\n          </p>\n          <p>\n            <label htmlFor=\"instructions\">Instructions</label>\n            <textarea\n              id=\"instructions\"\n              name=\"instructions\"\n              rows=\"10\"\n              required\n            ></textarea>\n          </p>\n          <ImagePicker label=\"Image\" name=\"image\" />\n          {state?.message && <p>{state.message}</p>}\n          <p className={classes.actions}>\n            <MealsFormSubmit />\n          </p>\n        </form>\n      </main>\n    </>\n  );\n}","/* __next_internal_action_entry_do_not_use__ [{\"608fb609e734759f5278c24b9d4b7e80fce94e656a\":\"shareMeal\"},\"lib/actions.js\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var shareMeal=/*#__PURE__*/createServerReference(\"608fb609e734759f5278c24b9d4b7e80fce94e656a\",callServer,void 0,findSourceMapURL,\"shareMeal\");","'use client';\n\nimport { useFormStatus } from \"react-dom\";\n\n\n\nexport default function MealsFormSubmit() {\n    const { pending } = useFormStatus();\n\n    return (\n        <button type=\"submit\" disabled={pending}>\n            {pending ? 'Submitting...' : 'Share Meal'}\n        </button>\n    )\n}"],"names":["getImageProps","imgProps","props","getImgProps","defaultLoader","imgConf","process","env","__NEXT_IMAGE_OPTS","key","value","Object","entries","undefined","Image","callServer","createServerReference","findSourceMapURL"],"mappings":"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","ignoreList":[0,1,4]}